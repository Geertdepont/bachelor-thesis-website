<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Avoid nested callbacks, as they could lead to a “callback hell”. Approximatively, more than 2 levels of callbacks are considered to reduce maintainability and understandability. This problem is commonly fixed by taking advantage of the RxJava library. - Bachelor Thesis site</title>

  <link rel="shortcut icon" href="/styles/images/favicon.png">
  <link rel="icon" href="/styles/images/favicon.png">

  <link rel="stylesheet" href="/styles/css/index.css">
  <link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/styles/css/syntax.css">
  <link rel="canonical" href="/generic/generic-10/">
  <link rel="alternate" type="application/rss+xml" title="Bachelor Thesis site" href="/feed.xml">
  
  <meta name="keywords" content="Avoid nested callbacks, as they could lead to a “callback hell”. Approximatively, more than 2 levels of callbacks are considered to reduce maintainability and understandability. This problem is commonly fixed by taking advantage of the RxJava library., Bachelor Thesis site, ">
  <meta name="description" content="">

  <script src="/styles/js/jquery.min.js"></script>
  <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style type="text/css">
      .docs-content{
        margin-bottom: 10px;
      }
    </style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="https://github.com/Geertdepont/bachelor_thesis">Github page</a>
        </li>
        <li>
          <a href="https://robertoverdecchia.github.io/papers/ICSA_2019.pdf">Referenced article</a>
        </li>
      </ul>
      <!--<ul class="nav navbar-nav navbar-right">-->
        <!--<li class="dropdown">-->
          <!--<a href="#" class="dropdown-toggle" data-toggle="dropdown">Files<b class="caret"></b></a>-->
          <!--<ul class="dropdown-menu">-->
            <!--<li><a rel="nofollow" target="_blank" href="https://github.com/Geertdepont/bachelor_thesis">Github</a></li>-->
          <!--</ul>-->
        <!--</li>-->
      <!--</ul>-->
    </nav>
  </div>
</header>
    <div class="docs-header" id="content">
  <div class="container">
  	
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/#category_Generic">Generic</a>	/
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>Generic</h1>
  <ul class="nav sidenav">
  </ul>
  <div style="height: 200px;width: 200px;">
    <ul class="nav sidenav">
      
        
      <li><a href="/generic/generic-1/"><b>Guideline 1:</b> Decouple components</a></li>
        
      <li><a href="/generic/generic-2/"><b>Guideline 2:</b> Design independent components</a></li>
        
      <li><a href="/generic/generic-3/"><b>Guideline 3:</b> Counter the tendency of Activities to grow too big</a></li>
        
      <li><a href="/generic/generic-4/"><b>Guideline 4:</b> Separation of concerns in your architecture</a></li>
        
      <li><a href="/generic/generic-5/"><b>Guideline 5:</b> Select architectual pattern</a></li>
        
      <li><a href="/generic/generic-6/"><b>Guideline 6:</b> Organize packages</a></li>
        
      <li><a href="/generic/generic-7/"><b>Guideline 7:</b> Take advantage of libraries</a></li>
        
      <li><a href="/generic/generic-8/"><b>Guideline 8:</b> Cache data</a></li>
        
      <li><a href="/generic/generic-9/"><b>Guideline 9:</b> Use interfaces</a></li>
        
      <li><a href="/generic/generic-10/"><b>Guideline 10:</b> Avoid nested callbacks</a></li>
        
      <li><a href="/generic/generic-11/"><b>Guideline 11:</b> Coding standards</a></li>
        
      <li><a href="/generic/generic-12/"><b>Guideline 12:</b> Use a dedicated module</a></li>
        
      <li><a href="/generic/generic-13/"><b>Guideline 13:</b> Lifecycle of android components</a></li>
        
      <li><a href="/generic/generic-14/"><b>Guideline 14:</b> Designing background tasks</a></li>
        
      <li><a href="/generic/generic-15/"><b>Guideline 15:</b> Permissions</a></li>
        
      
    </ul>
  </div>
</div>

 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">Avoid nested callbacks, as they could lead to a “callback hell”. Approximatively, more than 2 levels of callbacks are considered to reduce maintainability and understandability. This problem is commonly fixed by taking advantage of the RxJava library.</h1>
              <!--
                <p class="post-meta">May 21, 2019</p>
              -->
              <!--<div class="meta">Posted on <span class="postdate">May 21, 2019</span> By <a target="_blank" href="geertdepont.github.io">Geert de Pont</a></div>-->
              <br />
            </header>
            <article class="post-content">
              <h3>Why?</h3>
<p>Using too many callbacks leads to unreadable code. 
These callback hells often arise when multiple server requests need to be performed for one activity. 
For example, showing the details of users. 
First you need to know which users exist, and with each username you can request the details. 
The RxJava library can simplify our code.</p>

<h3>Example</h3>

<p>For this example we will look at the <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/RxjavaRetrofitGithub">MVVM example</a> to retrieve my github contributors.
We use for this example Rxjava in combination with retrofit.
Sometimes it is necessary to have nested callbacks.
Like in this example, where we want to find the contributors of our repository.
We need to know which repositories there are before we can look up, the contributors of the repository.</p>

<p>Our methods <b>getRepositories()</b> and <b>getContributors(String repo)</b>, both return observable 
Values. Which means that this values can be viewed by an Observer, which we need to 
Implement.
<script src="https://gist.github.com/Geertdepont/5e8db18f58cabda7b8200ecdf245c553.js"></script></p>

<p>We then create a Retrofit class, which returns a Retrofit instance, which will perform our API 
requests to “https://api.github.com/”</p>

<script src="https://gist.github.com/Geertdepont/fe492764b668d1393b32c7c66868ac24.js"></script>

<p>In our repository, we will return our A Single object. Which either emits one value, or an error 
message.</p>

<script src="https://gist.github.com/Geertdepont/047f1270a4745522b26927ae208eabfe.js"></script>

<p>The <b>getContributorList()</b> performs for each Repository in my github account a new request.
These repositories are retrieved via the <b>myAPI.getRepositories()</b> request.
Then <b>.flatMapIterable(x -&gt; x)</b> flattens a stream of iterables. So that for each repository, we can fetch the contributors, and sort them based on the amount of contributions.</p>

<p>If we had to write this code without RxJava, we would end up with a for loop within two nested callbacks. Which would lead to ugly code.</p>

<p>Checkout the <a href="http://reactivex.io/documentation">RXJava documentation</a> to understand more about <b>Observers</b> and <b>Observables</b></p>

<p>Whenever using RXJava or Retrofit do not forget to add these libraries to your app/build.gradle file.</p>

<script src="https://gist.github.com/Geertdepont/d538c636d05bc38007701f306d019750.js"></script>

<p>Checkout our <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/RxjavaRetrofitGithub">MVVM example</a> to view the complete repository.</p>


            </article>
        </div>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2014-2019 <a href=""><code>Geert de Pont</code></a>.</p>
	</div>
</footer>

  </body>
</html>

