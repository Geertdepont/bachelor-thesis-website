<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clearly define contracts between Views and Presenters. - Guidelines for Architecting Android Apps</title>

  <link rel="shortcut icon" href="/styles/images/favicon.png">
  <link rel="icon" href="/styles/images/favicon.png">

  <link rel="stylesheet" href="/styles/css/index.css">
  <!--<link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">-->
  <link rel="stylesheet" href="/styles/css/syntax.css">
  <link rel="canonical" href="/mvp/mvp-19/">
  <link rel="alternate" type="application/rss+xml" title="Guidelines for Architecting Android Apps" href="/feed.xml">


  <!--<link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">-->
  <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">


  <meta name="keywords" content="Clearly define contracts between Views and Presenters., Guidelines for Architecting Android Apps, ">
  <meta name="description" content="">

  <script src="/styles/js/jquery.min.js"></script>
  <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style type="text/css">
      .docs-content{
        margin-bottom: 10px;
      }
    </style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/generic/generic-1/">Generic</a>
        </li>
        <li>
          <a href="/mvvm/mvvm-28/">MVVM</a>
        </li>
        <li>
          <a href="/mvp/mvp-16/">MVP</a>
        </li>
        <li>
          <a href="/clean/clean-38/">Clean</a>
        </li>
        <li>
          <a href="/credits/">Credits</a>
        </li>
      </ul>
    </nav>
  </div>
</header>
    <!--<div class="docs-header" id="content">-->
  <!--&lt;!&ndash;<div class="container">&ndash;&gt;-->
  	<!--&lt;!&ndash;&ndash;&gt;-->
    <!--&lt;!&ndash;&ndash;&gt;-->
  <!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--</div>-->
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/mvp" style="text-transform: uppercase;">mvp</a>	/
    
  </div>
</div>



    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebarpost hidden-print" role="complementary">
        <div id="navigation">
  <h1 style="text-transform: uppercase;">mvp</h1>
  <div style="height: 200px;width: 200px;">
    <ul id="frontpagenav" class="nav sidenav">
      
      
      <li><a href="/mvp/mvp-16/"><b>Guideline 16:</b> Provide views with data</a></li>
      
      <li><a href="/mvp/mvp-17/"><b>Guideline 17:</b> Presenters should be Android- and framework-independent.</a></li>
      
      <li><a href="/mvp/mvp-18/"><b>Guideline 18:</b> Data provided by Models via app-scoped dedicated components.</a></li>
      
      <li><a href="/mvp/mvp-19/"><b>Guideline 19:</b> Clearly define contracts between Views and Presenters.</a></li>
      
      <li><a href="/mvp/mvp-20/"><b>Guideline 20:</b> Lifecycle of Presenters</a></li>
      
      <li><a href="/mvp/mvp-21/"><b>Guideline 21:</b> Avoid too many responsibilities in the Presenters</a></li>
      
      <li><a href="/mvp/mvp-22/"><b>Guideline 22:</b> Make Presenters dependent on Views</a></li>
      
      <li><a href="/mvp/mvp-23/"><b>Guideline 23:</b> Views are passive</a></li>
      
      <li><a href="/mvp/mvp-24/"><b>Guideline 24:</b> Keep business logic out of activities and views.</a></li>
      
      <li><a href="/mvp/mvp-25/"><b>Guideline 25:</b> Inject dependencies to Presenters into the Views</a></li>
      
      <li><a href="/mvp/mvp-26/"><b>Guideline 26:</b> Do not let presenters communicate with each other.</a></li>
      
      <li><a href="/mvp/mvp-27/"><b>Guideline 27:</b> Retain fragments for avoiding memory leaks</a></li>
      
      
    </ul>
  </div>
</div>


      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
          <header class="post-header">
            <h1 class="post-title">Clearly define contracts between Views and Presenters.</h1>
            <br />
          </header>
          <article class="post-content">
            <h3>Why?</h3>
<p>Before starting to develop a new app feature,
a good architectural practice consists in writing a contract
documenting the communication between the View and the
Presenter. The contract should document for each event in
the View which is the corresponding action in the Presenter.
By implementing contract interface classes, the source code
of apps become more understandable, as the relation between
the View and the Presenter is explicitly documented.</p>

<h3>Example</h3>
<p>For this example we will look at the <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/BookApplication" target="_blank">Book example</a>.</p>

<p>Our BookListContract:
<script src="https://gist.github.com/Geertdepont/303ada3a2b720dea0bf534313bf4a845.js"></script></p>

<p>Our BookListPresenter implements the Presenter interface and our BookListActivity 
implements the View interface.
This contract helps to design how the communication between our BookListActivity and our 
BookListPresenter will be.</p>

<p>The Presenter will look the books, and the View will present the books.</p>

<p>At a certain moment our BookListActivity will request the Presenter to loadBookList();</p>

<script src="https://gist.github.com/Geertdepont/47b39d34691a8d07a7c3e73db46b5681.js"></script>

<p>This Presenter will then ask the client by calling the getBookList with its callback object as parameter.</p>

<script src="https://gist.github.com/Geertdepont/b02b82c58ae3a1e63e84f634e9ca88c7.js"></script>

<p>If the request is succesfull, the callback will call the showBookList() with the List<Book> as its 
parameter. If not, it will show the error message.</Book></p>

<figure>
  <img src="/assets/BookApplication_eventDiagram.png" alt="Login Injection" width="85%" />
</figure>

<p>The Contract describes the interaction between the view and the presenter. 
The Presenter has to perform two methods:</p>
<ul>
<li><b>loadBookList</b> to get the books for the view</li>
<li><b>dropView</b> to release its connection with the view</li>
</ul>

<p>The View has to perform four methods:</p>
<ul>
<li><b>showProgress</b> to add progressbar, to show that the books are being retrieved.</li>
<li><b>hideProgress</b> to remove the progressbar, if successful or unsuccesful. </li>
<li><b>showBookList</b> to show the retrieved books</li>
<li><b>showLoadingError</b> to show if the retrieval was unsuccesful.</li>
</ul>

<p>I hope that creating this contract makes the interaction more understandable.</p>

<p>Check out the <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/BookApplication" target="_blank">Github page</a> to view the complete repository.</p>

<p><a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/BookApplication" target="_blank"><button type="button" class="btn btn-primary btn-icon-right">Go to the github page</button></a></p>


          </article>
        </div>
      </div>
    </div>
  </div>
</div>


    
    <footer class="footer" role="contentinfo">
	<div class="container" style="text-align: center;">
		<p class="copyright">Copyright &copy; 2019 <a href=""><code>Geert de Pont</code></a>.</p>
		<p>Powered by <a href="http://jekyllrb.com">Jekyll</a>, themed from <a href="http://lesscss.cn/">Less</a></p>
		<a href="https://www.vu.nl/" target="_blank"> <img src="/assets/vuamsterdam.svg" alt="Vrije Universiteit Amsterdam" width="220px;"></a>
		<a href="http://www.gssi.it/" target="_blank"> <img src="/assets/gssi.jpg" alt="GSSI" width="220px;"></a>
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/navigation.js"></script>
<script src="/styles/js/application.js"></script>

  </body>
</html>

