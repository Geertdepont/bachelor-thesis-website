<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The app should possess a single source of truth of data. - Guidelines for Architecting Android Apps</title>

  <link rel="shortcut icon" href="/styles/images/favicon.png">
  <link rel="icon" href="/styles/images/favicon.png">

  <link rel="stylesheet" href="/styles/css/index.css">
  <link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/styles/css/syntax.css">
  <link rel="canonical" href="/mvvm/mvvm-29/">
  <link rel="alternate" type="application/rss+xml" title="Guidelines for Architecting Android Apps" href="/feed.xml">
  
  <meta name="keywords" content="The app should possess a single source of truth of data., Guidelines for Architecting Android Apps, ">
  <meta name="description" content="">

  <script src="/styles/js/jquery.min.js"></script>
  <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style type="text/css">
      .docs-content{
        margin-bottom: 10px;
      }
    </style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/credits/credits">Credits</a>
        </li>
      </ul>
    </nav>
  </div>
</header>
    <!--<div class="docs-header" id="content">-->
  <!--&lt;!&ndash;<div class="container">&ndash;&gt;-->
  	<!--&lt;!&ndash;&ndash;&gt;-->
    <!--&lt;!&ndash;&ndash;&gt;-->
  <!--&lt;!&ndash;</div>&ndash;&gt;-->
<!--</div>-->
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/MVVM/">MVVM</a>	/
    
  </div>
</div>

    

    
<div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebarpost hidden-print" role="complementary">
        <div id="navigation">
  <h1>MVVM</h1>
  <div style="height: 200px;width: 200px;">
    <ul class="nav sidenav">
      
      
      <li><a href="/mvvm/mvvm-28/"><b>Guideline 29:</b> Models, Views, and ViewModels should exclusively expose their state</a></li>
      
      <li><a href="/mvvm/mvvm-29/"><b>Guideline 30:</b> The app should possess a single source of truth of data.</a></li>
      
      <li><a href="/mvvm/mvvm-30/"><b>Guideline 30:</b> Models should be evolvable/testable</a></li>
      
      <li><a href="/mvvm/mvvm-31/"><b>Guideline 31:</b> ViewModels should not refer to View-specific components.</a></li>
      
      <li><a href="/mvvm/mvvm-32/"><b>Guideline 32:</b> Views should always know about changes after ViewModels</a></li>
      
      <li><a href="/mvvm/mvvm-33/"><b>Guideline 33:</b> Adopt one Model for each feature of the app.</a></li>
      
      <li><a href="/mvvm/mvvm-34/"><b>Guideline 34:</b> Keep ViewModels as simple as possible.</a></li>
      
      <li><a href="/mvvm/mvvm-35/"><b>Guideline 35:</b> The state of the app should be defined in the Models only.</a></li>
      
      <li><a href="/mvvm/mvvm-36/"><b>Guideline 36:</b> The data produced by the Models should be reliable and of high quality.</a></li>
      
      <li><a href="/mvvm/mvvm-37/"><b>Guideline 37:</b> Networking or data access functionalities should be performed by Models.</a></li>
      
      
    </ul>
  </div>
</div>


      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
          <header class="post-header">
            <h1 class="post-title">The app should possess a single source of truth of data.</h1>
            <br />
          </header>
          <article class="post-content">
            <h3>Why?</h3>
<p>In the context of mobile applications,
consistency of data can become an issue. While caching
mechanisms allow to save energy and bandwidth, multiple data
sources can create inconsistencies and even conflicting Views.
In order to avoid such issues, it is recommended to designate
a dedicated component as single source of truth for the
entire app. Specifically, in the context of MVVM, the Room
persistence library is an official architectural component of
Android which is specifically tailored for such task.s</p>

<h3>Example</h3>
<p>We created a simple <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/ArchitectureExample" target="_blank">MVVM example</a>.</p>

<p>In our example the viewModel contains only one database.
Whenever someone creates a Repository, an instance of the NoteDatabase gets requested.
This NoteDatabase is a singleton, so each repository will contain the same database.</p>

<script src="https://gist.github.com/Geertdepont/6c49b1e410789359624d30622c82c03d.js"></script>

<p>To retrieve or insert data into the database, the noteDao has to be used.</p>

<p>Check this <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/ArchitectureExample" target="_blank">page</a> to view the complete repository.</p>

<p><a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/ArchitectureExample" target="_blank"><button type="button" class="btn btn-primary btn-icon-right">Go to the github page</button></a></p>


          </article>
        </div>
      </div>
    </div>
  </div>
</div>



    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2019 <a href=""><code>Geert de Pont</code></a>.</p>
		<img src="/assets/vuamsterdam.svg" alt="Vrije Universiteit Amsterdam" width="220px;">
		<img src="/assets/gssi.jpg" alt="GSSI" width="220px;">
	</div>
</footer>

<script src="/styles/js/jquery.min.js"></script>
<script src="/styles/js/bootstrap.min.js"></script>
<script src="/styles/js/holder.min.js"></script>
<script src="/styles/js/navigation.js"></script>
<script src="/styles/js/application.js"></script>

  </body>
</html>

