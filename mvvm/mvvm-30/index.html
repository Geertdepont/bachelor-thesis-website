<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Models should be evolvable/testable independently from the rest of the app. - Bachelor Thesis site</title>

  <link rel="shortcut icon" href="/styles/images/favicon.png">
  <link rel="icon" href="/styles/images/favicon.png">

  <link rel="stylesheet" href="/styles/css/index.css">
  <link rel="stylesheet" href="/styles/css/fontawesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/styles/css/syntax.css">
  <link rel="canonical" href="/mvvm/mvvm-30/">
  <link rel="alternate" type="application/rss+xml" title="Bachelor Thesis site" href="/feed.xml">
  
  <meta name="keywords" content="Models should be evolvable/testable independently from the rest of the app., Bachelor Thesis site, ">
  <meta name="description" content="">

  <script src="/styles/js/jquery.min.js"></script>
  <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style type="text/css">
      .docs-content{
        margin-bottom: 10px;
      }
    </style>
</head>

  <body class="index">

    <header class="navbar navbar-inverse navbar-fixed-top docs-nav" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">    
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="https://github.com/Geertdepont/bachelor_thesis">Github page</a>
        </li>
        <li>
          <a href="https://robertoverdecchia.github.io/papers/ICSA_2019.pdf">Referenced article</a>
        </li>
      </ul>
      <!--<ul class="nav navbar-nav navbar-right">-->
        <!--<li class="dropdown">-->
          <!--<a href="#" class="dropdown-toggle" data-toggle="dropdown">Files<b class="caret"></b></a>-->
          <!--<ul class="dropdown-menu">-->
            <!--<li><a rel="nofollow" target="_blank" href="https://github.com/Geertdepont/bachelor_thesis">Github</a></li>-->
          <!--</ul>-->
        <!--</li>-->
      <!--</ul>-->
    </nav>
  </div>
</header>
    <div class="docs-header" id="content">
  <div class="container">
  	
    
  </div>
</div>
    
      
<div class="banner">
  <div class="container">
  	
    	<a href="/#category_MVVM">MVVM</a>	/
    
  </div>
</div>

    

    <div class="container docs-container">
  <div class="row">
    <div class="col-md-3">
      <div class="sidebar hidden-print" role="complementary">
        <div id="navigation">
  <h1>MVVM</h1>
  <ul class="nav sidenav">
  </ul>
  <div style="height: 200px;width: 200px;">
    <ul class="nav sidenav">
      
        
      <li><a href="/mvvm/mvvm-introduction/"><b>Guideline Introduction:</b> What is MVVM?</a></li>
        
      <li><a href="/mvvm/mvvm-28/"><b>Guideline 29:</b> Models, Views, and ViewModels should exclusively expose their state</a></li>
        
      <li><a href="/mvvm/mvvm-29/"><b>Guideline 30:</b> The app should possess a single source of truth of data.</a></li>
        
      <li><a href="/mvvm/mvvm-30/"><b>Guideline 30:</b> Models should be evolvable/testable</a></li>
        
      <li><a href="/mvvm/mvvm-31/"><b>Guideline 31:</b> ViewModels should not refer to View-specific components.</a></li>
        
      <li><a href="/mvvm/mvvm-32/"><b>Guideline 32:</b> Views should always know about changes after ViewModels</a></li>
        
      <li><a href="/mvvm/mvvm-33/"><b>Guideline 33:</b> Adopt one Model for each feature of the app.</a></li>
        
      <li><a href="/mvvm/mvvm-34/"><b>Guideline 34:</b> Keep ViewModels as simple as possible.</a></li>
        
      <li><a href="/mvvm/mvvm-35/"><b>Guideline 35:</b> The state of the app should be defined in the Models only.</a></li>
        
      <li><a href="/mvvm/mvvm-36/"><b>Guideline 36:</b> The data produced by the Models should be reliable and of high quality.</a></li>
        
      <li><a href="/mvvm/mvvm-37/"><b>Guideline 37:</b> Networking or data access functionalities should be performed by Models.</a></li>
        
      
    </ul>
  </div>
</div>

 
      </div>
    </div>
    <div class="col-md-9" role="main">
      <div class="panel docs-content">
        <div class="wrapper">
            <header class="post-header">
              <h1 class="post-title">Models should be evolvable/testable independently from the rest of the app.</h1>
              <!--
                <p class="post-meta">May 21, 2019</p>
              -->
              <!--<div class="meta">Posted on <span class="postdate">May 21, 2019</span> By <a target="_blank" href="geertdepont.github.io">Geert de Pont</a></div>-->
              <br />
            </header>
            <article class="post-content">
              <h3>Why?</h3>
<p>Well-designed ViewModels should completely decouple Views from Model
classes. In such way, by strictly adhering to the MVVM
pattern, Models and Views can evolve independently and be
tested with ease. Additionally, by applying the inversion of
control principle and implementing ViewModels decoupled
from the Android framework, it is possible to test ViewModels
via unit tests. In contrast, if the binding between the MVVM
components is too complex and intertwined, testing and debugging Android apps can become a cumbersome challenge.</p>

<h3>Example</h3>
<p>We created a simple <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/ArchitectureExample">MVVM example</a>.</p>

<p>This is our current model:
<script src="https://gist.github.com/Geertdepont/e62a8bc6a6a32d822af397e6bee8fdc1.js"></script></p>

<p>We evolve this model, by adding a new feature:</p>

<script src="https://gist.github.com/Geertdepont/7f3501254b6d2be8b46a0a787a818625.js"></script>

<p>Since Room cannot convert Date value, we need to write our own converter.</p>

<script src="https://gist.github.com/Geertdepont/fa15aa9ffa53d5d3c4710608cade33c6.js"></script>

<p>The <b>@TypeConverters(DateConverter.class)</b> has been added to the top of the Note model.</p>

<p>We change the version of our database from 1 to 2.
And we need to write a migration.</p>

<p>We can now restart the app, and the database has been updated.
Maybe this is a bad example, but when we create a new feature for our model.
We can evolve our model and test it without creating a new view.</p>

<p>Check this <a href="https://github.com/Geertdepont/bachelor_thesis/tree/master/ArchitectureExample">page</a> to view the complete repository.</p>


            </article>
        </div>
      </div>
    </div>
  </div>
</div>

    
    <footer class="footer" role="contentinfo">
	<div class="container">
		<p class="copyright">Copyright &copy; 2014-2019 <a href=""><code>Geert de Pont</code></a>.</p>
	</div>
</footer>

  </body>
</html>

